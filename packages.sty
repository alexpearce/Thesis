\ProvidesPackage{packages}

\RequirePackage{etoolbox}
\newtoggle{draft}
\togglefalse{draft}

\DeclareOption{draft}{%
  \toggletrue{draft}
}
\ProcessOptions\relax

% Layout and typography
\usepackage[british]{babel}
% Loaded to suppress warnings due to microtype and siunitx
% http://tex.stackexchange.com/a/74673
\usepackage{textcomp}
\usepackage{microtype}
\usepackage{lmodern}
% \usepackage{newpxtext}
% \usepackage{newpxmath}
\usepackage{sansmath}
\usepackage{xcolor}
\usepackage{xfrac}
\usepackage{titling}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{lineno}
\input{lineno-ams-fix}

% Manchester guidelines require "Double or 1.5 spacing in a font type and size 
% which ensures readability"
% This macro is implemented by the memoir class, rather than the (usual) 
% setspace package
\OnehalfSpacing

% Grey line numbers
\renewcommand{\linenumberfont}{\normalfont\tiny\ttfamily\color{gray}}

% Memoir layouts
\chapterstyle{section}

% The spacing in the table of contents between the part and section numbers and 
% their titles is a bit tight by default, for numbers like 11.10, so increase 
% it a bit
% The chapter width and section indent are set so everything lines up nicely
\setlength\cftpartnumwidth{2em}
\setlength\cftchapternumwidth{2em}
\setlength\cftsectionindent{2em}
\setlength\cftsectionnumwidth{2.5em}

% Show the page number on blank pages when flushing before a new \chapter
% \renewcommand{\clearforchapter}{\cleartooddpage[\thispagestyle{plain}]}

% Maths and symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[detect-weight=true, detect-family=true, binary-units=true, separate-uncertainty=true]{siunitx}
\sisetup{group-separator={,},range-units=single}
\usepackage[version=4]{mhchem}
\usepackage[italic]{lhcb}
\usepackage[nolist,nohyperlinks]{acronym}

% Graphics
\usepackage{rotating}
\usepackage{graphicx}
\graphicspath{{figures/}}
\usepackage{subcaption}
\usepackage{tikz-feynman}
\usepackage{tikz-3dplot}

% Italicise text main body of figure and subfigure text,
% and bolden the (sub)figure label, keeping it roman
\captionsetup{textfont={normalsize,it},labelfont={bf,rm}}
\captionsetup[sub]{textfont={small,it},labelfont={bf,rm}}

% Draw arrows in the middle of lines
\tikzset{->-/.style={decoration={markings, mark=at position #1 with {\arrow{latex}}}, postaction={decorate}}}

% Miscellaneous
\usepackage{lipsum}

% Referencing
\usepackage{cite}
\usepackage{mciteplus}
\usepackage[pdfusetitle,colorlinks]{hyperref}
\usepackage[nameinlink,capitalise,noabbrev]{cleveref}
% Use the Oxford comma for lists of references
% http://tex.stackexchange.com/a/161340/45857
\newcommand{\creflastconjunction}{, and\nobreakspace}
