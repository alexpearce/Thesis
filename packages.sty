\ProvidesPackage{packages}

\RequirePackage{etoolbox}
\newtoggle{draft}
\togglefalse{draft}

\DeclareOption{draft}{%
  \toggletrue{draft}
}
\ProcessOptions\relax

% Layout and typography
\usepackage[british]{babel}
% Loaded to suppress warnings due to microtype and siunitx
% http://tex.stackexchange.com/a/74673
\usepackage{textcomp}
\usepackage{microtype}
% \usepackage{newpxtext}
% \usepackage{newpxmath}
\usepackage{xcolor}
\usepackage{titling}
\usepackage{booktabs}
\usepackage{lineno}
\input{lineno-ams-fix}

% Grey line numbers
\renewcommand{\linenumberfont}{\normalfont\tiny\ttfamily\color{gray}}

% Memoir layouts
\chapterstyle{hangnum}

% Maths and symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[detect-weight=true, detect-family=true]{siunitx}
\usepackage[italic]{lhcb}
\usepackage[printonlyused]{acronym}

% Graphics
\usepackage{graphicx}
\graphicspath{{figures/}}

% Miscellaneous
\usepackage{lipsum}

% Referencing
\usepackage[pdfusetitle]{hyperref}
\usepackage[pdfusetitle,colorlinks]{hyperref}
\usepackage[nameinlink,capitalise,noabbrev]{cleveref}
\crefformat{section}{\S#2#1#3}
